{
  "json_class": "Chef::Role",
  "name": "mri-2.0.0-p247_postgres_puma",
  "description": "Rails application server testapp",
  "run_list": ["recipe[rails-stack]"],
  "default_attributes": {
    "nginx": {
      "version": "1.4.1",
      "init_style": "init"
    },
    "users": [
     {
      "user": "YOUR_APP_USER",
      "authorized_keys": ["YOUR_SSH_KEY"]
     }
    ],
    "apps":
      [
        {
          "name": "YOUR_APP_NAME",
          "user": "YOUR_APP_USER",
          "ruby_version": "2.0.0-p247",
          "domain_names": ["DOMAIN_NAME"],
          "app_server": {
            "type": "puma",
            "min_threads": "0",
            "max_threads": "16",
            "workers": "0"
          },
          "database": {
            "dbname": "DBNAME_production",
            "server": true,
            "type": "postgresql",
            "username": "DB_USERNAME",
            "password": "DB_PASSWORD",
            "host": "localhost"
          }
        }
      ]
  }
}